# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - Minimal Claude API

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
cd project
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```env
CLAUDE_API_KEY=your-secret-key-here
PORT=8001
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
python3 minimal_server.py
```

–ì–æ—Ç–æ–≤–æ! –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://localhost:8001`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç
```bash
python3 test_server.py
```

### –†—É—á–Ω–æ–π —Ç–µ—Å—Ç (curl)
```bash
# Health check
curl http://localhost:8001/health

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
curl -X POST http://localhost:8001/api/v1/chat \
  -H "Authorization: Bearer your-secret-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "–ü—Ä–∏–≤–µ—Ç! –°–∫–∞–∂–∏ hello",
    "user_id": 1
  }'
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

- üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤: [TEST_RESULTS.md](TEST_RESULTS.md)
- üìù –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π: [CHANGES.md](CHANGES.md)

## –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

- `minimal_server.py` - –≥–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- `.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `test_server.py` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- `requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Claude CLI (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `which claude`)
- Claude API –∫–ª—é—á (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ minimal_server.py      # üü¢ –ì–ª–∞–≤–Ω—ã–π HTTP —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ test_server.py         # üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ requirements.txt       # üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                   # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README.md             # üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICKSTART.md         # üöÄ –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ TEST_RESULTS.md       # ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ CHANGES.md            # üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è
‚îî‚îÄ‚îÄ claude_cli/           # üìÅ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
    ‚îú‚îÄ‚îÄ facade.py         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ integration.py    # –ü—Ä–æ—Ü–µ—Å—Å—ã
    ‚îú‚îÄ‚îÄ session.py        # –°–µ—Å—Å–∏–∏
    ‚îî‚îÄ‚îÄ ...

```

## API Endpoint

### POST /api/v1/chat

**–ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è:**
```json
{
  "prompt": "–¢–≤–æ–π –∑–∞–ø—Ä–æ—Å",
  "user_id": 123
}
```

**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–µ—Å—Å–∏—é:**
```json
{
  "prompt": "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å",
  "session_id": "abc-123",
  "user_id": 123
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "content": "–û—Ç–≤–µ—Ç –æ—Ç Claude",
  "session_id": "abc-123",
  "cost": 0.001,
  "duration_ms": 1500
}
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
# –ù–∞–π—Ç–∏ –∏ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 8001
lsof -i :8001
kill <PID>
```

### Claude –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Claude CLI
npm install -g @anthropic/claude-cli
```

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π API –∫–ª—é—á –≤ `.env`
2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer ...`
3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Claude CLI: `claude setup-token`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

‚ö†Ô∏è –ü–µ—Ä–µ–¥ –≤—ã–∫–ª–∞–¥–∫–æ–π:

1. –°–º–µ–Ω–∏—Ç–µ `CLAUDE_API_KEY` –Ω–∞ —Å–ª–æ–∂–Ω—ã–π –∫–ª—é—á (32+ —Å–∏–º–≤–æ–ª–∞)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS
4. –î–æ–±–∞–≤—å—Ç–µ rate limiting –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í–æ–ø—Ä–æ—Å—ã? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- [README.md](README.md) - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [TEST_RESULTS.md](TEST_RESULTS.md) - –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `tail -f server.log`
